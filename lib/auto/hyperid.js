"use strict";

require("source-map-support/register");

const {
  tryRequire
} = require('@genx/sys');

let flInstance, instance;

module.exports = function (info, i18n, options) {
  const hyperid = tryRequire('hyperid', __dirname);

  if (info && info.fixedLength) {
    if (!flInstance) {
      flInstance = hyperid({
        urlSafe: true,
        fixedLength: true
      });
    }

    return flInstance();
  }

  if (!instance) {
    instance = hyperid();
  }

  return instance();
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hdXRvL2h5cGVyaWQuanMiXSwibmFtZXMiOlsidHJ5UmVxdWlyZSIsInJlcXVpcmUiLCJmbEluc3RhbmNlIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiaW5mbyIsImkxOG4iLCJvcHRpb25zIiwiaHlwZXJpZCIsIl9fZGlybmFtZSIsImZpeGVkTGVuZ3RoIiwidXJsU2FmZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBaUJDLE9BQU8sQ0FBQyxXQUFELENBQTlCOztBQUVBLElBQUlDLFVBQUosRUFBZ0JDLFFBQWhCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsSUFBVixFQUFnQkMsSUFBaEIsRUFBc0JDLE9BQXRCLEVBQStCO0FBQzVDLFFBQU1DLE9BQU8sR0FBR1QsVUFBVSxDQUFDLFNBQUQsRUFBWVUsU0FBWixDQUExQjs7QUFFQSxNQUFJSixJQUFJLElBQUlBLElBQUksQ0FBQ0ssV0FBakIsRUFBOEI7QUFDMUIsUUFBSSxDQUFDVCxVQUFMLEVBQWlCO0FBQ2JBLE1BQUFBLFVBQVUsR0FBR08sT0FBTyxDQUFDO0FBQUVHLFFBQUFBLE9BQU8sRUFBRSxJQUFYO0FBQWlCRCxRQUFBQSxXQUFXLEVBQUU7QUFBOUIsT0FBRCxDQUFwQjtBQUNIOztBQUVELFdBQU9ULFVBQVUsRUFBakI7QUFDSDs7QUFFRCxNQUFJLENBQUNDLFFBQUwsRUFBZTtBQUNYQSxJQUFBQSxRQUFRLEdBQUdNLE9BQU8sRUFBbEI7QUFDSDs7QUFFRCxTQUFPTixRQUFRLEVBQWY7QUFDSCxDQWhCRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IHRyeVJlcXVpcmUgfSA9IHJlcXVpcmUoJ0BnZW54L3N5cycpO1xuXG5sZXQgZmxJbnN0YW5jZSwgaW5zdGFuY2U7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZm8sIGkxOG4sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBoeXBlcmlkID0gdHJ5UmVxdWlyZSgnaHlwZXJpZCcsIF9fZGlybmFtZSk7XG5cbiAgICBpZiAoaW5mbyAmJiBpbmZvLmZpeGVkTGVuZ3RoKSB7XG4gICAgICAgIGlmICghZmxJbnN0YW5jZSkge1xuICAgICAgICAgICAgZmxJbnN0YW5jZSA9IGh5cGVyaWQoeyB1cmxTYWZlOiB0cnVlLCBmaXhlZExlbmd0aDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZsSW5zdGFuY2UoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZSA9IGh5cGVyaWQoKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGluc3RhbmNlKCk7XG59Il19