{"version":3,"file":"hyperid.js","names":["tryRequire","require","instances","module","exports","info","i18n","options","hyperid","index","fixedLength","urlSafe","generator","uid","prefix"],"sources":["../../src/auto/hyperid.js"],"sourcesContent":["const { tryRequire } = require('@genx/sys');\n\nconst instances = [ null, null, null, null ];\n\nmodule.exports = function (info, i18n, options) {\n    const hyperid = tryRequire('hyperid');\n\n    let index = info && info.fixedLength ? 1 : 0;\n    index += (options == null || options.urlSafe) ? 0 : 2;\n\n    let generator = instances[index];\n\n    if (generator == null) {\n        switch (index) {\n            case 0: \n                generator = hyperid({ urlSafe: true });\n                break;\n\n            case 1:\n                generator = hyperid({ urlSafe: true, fixedLength: true });\n                break;\n\n            case 2:\n                generator = hyperid();\n                break; \n\n            case 3:\n                generator = hyperid({ fixedLength: true });\n                break; \n        }\n\n        instances[index] = generator;\n    }\n\n    let uid = generator();\n    if (options?.prefix) {\n        uid = options.prefix + uid;\n    }\n\n    return uid;\n};\n"],"mappings":";;;;AAAA,MAAM;EAAEA;AAAF,IAAiBC,OAAO,CAAC,WAAD,CAA9B;;AAEA,MAAMC,SAAS,GAAG,CAAE,IAAF,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,CAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+B;EAC5C,MAAMC,OAAO,GAAGR,UAAU,CAAC,SAAD,CAA1B;EAEA,IAAIS,KAAK,GAAGJ,IAAI,IAAIA,IAAI,CAACK,WAAb,GAA2B,CAA3B,GAA+B,CAA3C;EACAD,KAAK,IAAKF,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACI,OAA5B,GAAuC,CAAvC,GAA2C,CAApD;EAEA,IAAIC,SAAS,GAAGV,SAAS,CAACO,KAAD,CAAzB;;EAEA,IAAIG,SAAS,IAAI,IAAjB,EAAuB;IACnB,QAAQH,KAAR;MACI,KAAK,CAAL;QACIG,SAAS,GAAGJ,OAAO,CAAC;UAAEG,OAAO,EAAE;QAAX,CAAD,CAAnB;QACA;;MAEJ,KAAK,CAAL;QACIC,SAAS,GAAGJ,OAAO,CAAC;UAAEG,OAAO,EAAE,IAAX;UAAiBD,WAAW,EAAE;QAA9B,CAAD,CAAnB;QACA;;MAEJ,KAAK,CAAL;QACIE,SAAS,GAAGJ,OAAO,EAAnB;QACA;;MAEJ,KAAK,CAAL;QACII,SAAS,GAAGJ,OAAO,CAAC;UAAEE,WAAW,EAAE;QAAf,CAAD,CAAnB;QACA;IAfR;;IAkBAR,SAAS,CAACO,KAAD,CAAT,GAAmBG,SAAnB;EACH;;EAED,IAAIC,GAAG,GAAGD,SAAS,EAAnB;;EACA,IAAIL,OAAJ,YAAIA,OAAO,CAAEO,MAAb,EAAqB;IACjBD,GAAG,GAAGN,OAAO,CAACO,MAAR,GAAiBD,GAAvB;EACH;;EAED,OAAOA,GAAP;AACH,CApCD"}