{"version":3,"file":"hyperid.js","names":["tryRequire","require","instances","module","exports","info","i18n","options","hyperid","index","fixedLength","urlSafe","generator","uid","prefix"],"sources":["../../src/auto/hyperid.js"],"sourcesContent":["const { tryRequire } = require('@genx/sys');\n\nconst instances = [ null, null, null, null ];\n\nmodule.exports = function (info, i18n, options) {\n    const hyperid = tryRequire('hyperid');\n\n    let index = info && info.fixedLength ? 1 : 0;\n    index += (options == null || options.urlSafe) ? 0 : 2;\n\n    let generator = instances[index];\n\n    if (generator == null) {\n        switch (index) {\n            case 0: \n                generator = hyperid({ urlSafe: true });\n                break;\n\n            case 1:\n                generator = hyperid({ urlSafe: true, fixedLength: true });\n                break;\n\n            case 2:\n                generator = hyperid();\n                break; \n\n            case 3:\n                generator = hyperid({ fixedLength: true });\n                break; \n        }\n\n        instances[index] = generator;\n    }\n\n    let uid = generator();\n    if (options?.prefix) {\n        uid = options.prefix + uid;\n    }\n\n    return uid;\n};\n"],"mappings":";;;AAAA,MAAM;EAAEA;AAAW,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AAE3C,MAAMC,SAAS,GAAG,CAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE;AAE5CC,MAAM,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAC5C,MAAMC,OAAO,GAAGR,UAAU,CAAC,SAAS,CAAC;EAErC,IAAIS,KAAK,GAAGJ,IAAI,IAAIA,IAAI,CAACK,WAAW,GAAG,CAAC,GAAG,CAAC;EAC5CD,KAAK,IAAKF,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACI,OAAO,GAAI,CAAC,GAAG,CAAC;EAErD,IAAIC,SAAS,GAAGV,SAAS,CAACO,KAAK,CAAC;EAEhC,IAAIG,SAAS,IAAI,IAAI,EAAE;IACnB,QAAQH,KAAK;MACT,KAAK,CAAC;QACFG,SAAS,GAAGJ,OAAO,CAAC;UAAEG,OAAO,EAAE;QAAK,CAAC,CAAC;QACtC;MAEJ,KAAK,CAAC;QACFC,SAAS,GAAGJ,OAAO,CAAC;UAAEG,OAAO,EAAE,IAAI;UAAED,WAAW,EAAE;QAAK,CAAC,CAAC;QACzD;MAEJ,KAAK,CAAC;QACFE,SAAS,GAAGJ,OAAO,EAAE;QACrB;MAEJ,KAAK,CAAC;QACFI,SAAS,GAAGJ,OAAO,CAAC;UAAEE,WAAW,EAAE;QAAK,CAAC,CAAC;QAC1C;IAAM;IAGdR,SAAS,CAACO,KAAK,CAAC,GAAGG,SAAS;EAChC;EAEA,IAAIC,GAAG,GAAGD,SAAS,EAAE;EACrB,IAAIL,OAAO,YAAPA,OAAO,CAAEO,MAAM,EAAE;IACjBD,GAAG,GAAGN,OAAO,CAACO,MAAM,GAAGD,GAAG;EAC9B;EAEA,OAAOA,GAAG;AACd,CAAC"}