{"version":3,"sources":["../../src/types/index.js"],"names":["_","require","InvalidArgument","ARRAY","BINARY","BOOLEAN","ENUM","DATETIME","INTEGER","NUMBER","OBJECT","TEXT","types","Types","mapKeys","v","k","name","Builtin","Set","map","t","FunctionalQualifiers","Object","freeze","sanitize","value","info","i18n","field","has","type","typeObject","module","exports"],"mappings":";;;;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAQC,OAAO,CAAC,YAAD,CAArB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAsBD,OAAO,CAAC,aAAD,CAAnC;;AAEA,MAAME,KAAK,GAAGF,OAAO,CAAC,SAAD,CAArB;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMI,OAAO,GAAGJ,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAMK,IAAI,GAAGL,OAAO,CAAC,QAAD,CAApB;;AACA,MAAMM,QAAQ,GAAGN,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAMO,OAAO,GAAGP,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAMQ,MAAM,GAAGR,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMS,MAAM,GAAGT,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMU,IAAI,GAAGV,OAAO,CAAC,QAAD,CAApB;;AAEA,MAAMW,KAAK,GAAG;AACVT,EAAAA,KADU;AAEVC,EAAAA,MAFU;AAGVC,EAAAA,OAHU;AAIVC,EAAAA,IAJU;AAKVC,EAAAA,QALU;AAMVC,EAAAA,OANU;AAOVC,EAAAA,MAPU;AAQVC,EAAAA,MARU;AASVC,EAAAA;AATU,CAAd;AAYA,MAAME,KAAK,GAAG,EACV,GAAGD,KADO;AAEV,KAAGZ,CAAC,CAACc,OAAF,CAAUF,KAAV,EAAiB,CAACG,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,IAA7B,CAFO;AAIVC,EAAAA,OAAO,EAAE,IAAIC,GAAJ,CAAQnB,CAAC,CAACoB,GAAF,CAAMR,KAAN,EAAcS,CAAD,IAAOA,CAAC,CAACJ,IAAtB,CAAR,CAJC;AAMVK,EAAAA,oBAAoB,EAAEC,MAAM,CAACC,MAAP,CAAc,CAChC,UADgC,EAEhC,SAFgC,EAGhC,MAHgC,EAIhC,UAJgC,EAKhC,WALgC,EAMhC,aANgC,EAOhC,uBAPgC,CAAd,CANZ;AAgBVC,EAAAA,QAAQ,EAAE,UAAUC,KAAV,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,KAA7B,EAAoC;AAC1C,QAAI,CAAChB,KAAK,CAACK,OAAN,CAAcY,GAAd,CAAkBH,IAAI,CAACI,IAAvB,CAAL,EAAmC;AAC/B,YAAM,IAAI7B,eAAJ,CAAqB,4BAA2ByB,IAAI,CAACI,IAAK,KAA1D,CAAN;AACH;;AAED,UAAMC,UAAU,GAAGnB,KAAK,CAACc,IAAI,CAACI,IAAN,CAAxB;AACA,WAAOC,UAAU,CAACP,QAAX,CAAoBC,KAApB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuCC,KAAvC,CAAP;AACH;AAvBS,CAAd;AA0BAI,MAAM,CAACC,OAAP,GAAiBrB,KAAjB","sourcesContent":["const { _ } = require('@genx/july');\nconst { InvalidArgument } = require('@genx/error');\n\nconst ARRAY = require('./array');\nconst BINARY = require('./binary');\nconst BOOLEAN = require('./boolean');\nconst ENUM = require('./enum');\nconst DATETIME = require('./datetime');\nconst INTEGER = require('./integer');\nconst NUMBER = require('./number');\nconst OBJECT = require('./object');\nconst TEXT = require('./text');\n\nconst types = {\n    ARRAY,\n    BINARY,\n    BOOLEAN,\n    ENUM,\n    DATETIME,\n    INTEGER,\n    NUMBER,\n    OBJECT,\n    TEXT,\n};\n\nconst Types = {\n    ...types,\n    ..._.mapKeys(types, (v, k) => v.name),\n\n    Builtin: new Set(_.map(types, (t) => t.name)),\n\n    FunctionalQualifiers: Object.freeze([\n        'optional',\n        'default',\n        'auto',\n        'readOnly',\n        'writeOnce',\n        'forceUpdate',\n        'freezeAfterNonDefault',\n    ]),\n\n    sanitize: function (value, info, i18n, field) {\n        if (!Types.Builtin.has(info.type)) {\n            throw new InvalidArgument(`Unknown primitive type: \"${info.type}\".\"`);\n        }\n\n        const typeObject = Types[info.type];\n        return typeObject.sanitize(value, info, i18n, field);\n    },\n};\n\nmodule.exports = Types;\n"],"file":"index.js"}