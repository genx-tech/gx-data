"use strict";require("source-map-support/register");const _=require("rk-utils")._;const{isNothing}=require("../utils/lang");const any=require("./any");module.exports={name:"object",alias:["json"],sanitize:(value,info,i18n)=>{if(_.isPlainObject(value))return value;if(Array.isArray(value))return value;if(_.isObjectLike(value))return _.toPlainObject(value);if(typeof value==="string"){let trimmed=value.trim();if(trimmed.startsWith("{")&&trimmed.endsWith("}")){return JSON.parse(trimmed)}}return value},defaultValue:{},generate:(info,i18n)=>null,serialize:value=>isNothing(value)?null:JSON.stringify(value),qualifiers:any.qualifiers.concat([])};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90eXBlcy9vYmplY3QuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJpc05vdGhpbmciLCJhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwibmFtZSIsImFsaWFzIiwic2FuaXRpemUiLCJ2YWx1ZSIsImluZm8iLCJpMThuIiwiaXNQbGFpbk9iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsImlzT2JqZWN0TGlrZSIsInRvUGxhaW5PYmplY3QiLCJ0cmltbWVkIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsIkpTT04iLCJwYXJzZSIsImRlZmF1bHRWYWx1ZSIsImdlbmVyYXRlIiwic2VyaWFsaXplIiwic3RyaW5naWZ5IiwicXVhbGlmaWVycyIsImNvbmNhdCJdLCJtYXBwaW5ncyI6IkFBQUEsYSx1Q0FFQSxLQUFNQSxDQUFBQSxDQUFDLENBQUdDLE9BQU8sQ0FBQyxVQUFELENBQVAsQ0FBb0JELENBQTlCLENBQ0EsS0FBTSxDQUFFRSxTQUFGLEVBQWdCRCxPQUFPLENBQUMsZUFBRCxDQUE3QixDQUNBLEtBQU1FLENBQUFBLEdBQUcsQ0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBbkIsQ0FFQUcsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2JDLElBQUksQ0FBRSxRQURPLENBR2JDLEtBQUssQ0FBRSxDQUFFLE1BQUYsQ0FITSxDQUtiQyxRQUFRLENBQUUsQ0FBQ0MsS0FBRCxDQUFRQyxJQUFSLENBQWNDLElBQWQsR0FBdUIsQ0FDN0IsR0FBSVgsQ0FBQyxDQUFDWSxhQUFGLENBQWdCSCxLQUFoQixDQUFKLENBQTRCLE1BQU9BLENBQUFBLEtBQVAsQ0FDNUIsR0FBSUksS0FBSyxDQUFDQyxPQUFOLENBQWNMLEtBQWQsQ0FBSixDQUEwQixNQUFPQSxDQUFBQSxLQUFQLENBQzFCLEdBQUlULENBQUMsQ0FBQ2UsWUFBRixDQUFlTixLQUFmLENBQUosQ0FBMkIsTUFBT1QsQ0FBQUEsQ0FBQyxDQUFDZ0IsYUFBRixDQUFnQlAsS0FBaEIsQ0FBUCxDQUUzQixHQUFJLE1BQU9BLENBQUFBLEtBQVAsR0FBaUIsUUFBckIsQ0FBK0IsQ0FDM0IsR0FBSVEsQ0FBQUEsT0FBTyxDQUFHUixLQUFLLENBQUNTLElBQU4sRUFBZCxDQUNBLEdBQUlELE9BQU8sQ0FBQ0UsVUFBUixDQUFtQixHQUFuQixHQUEyQkYsT0FBTyxDQUFDRyxRQUFSLENBQWlCLEdBQWpCLENBQS9CLENBQXNELENBQ2xELE1BQU9DLENBQUFBLElBQUksQ0FBQ0MsS0FBTCxDQUFXTCxPQUFYLENBQ1YsQ0FDSixDQUVELE1BQU9SLENBQUFBLEtBQ1YsQ0FsQlksQ0FvQmJjLFlBQVksQ0FBRSxFQXBCRCxDQXNCYkMsUUFBUSxDQUFFLENBQUNkLElBQUQsQ0FBT0MsSUFBUCxHQUFnQixJQXRCYixDQXdCYmMsU0FBUyxDQUFHaEIsS0FBRCxFQUFXUCxTQUFTLENBQUNPLEtBQUQsQ0FBVCxDQUFtQixJQUFuQixDQUEwQlksSUFBSSxDQUFDSyxTQUFMLENBQWVqQixLQUFmLENBeEJuQyxDQTBCYmtCLFVBQVUsQ0FBRXhCLEdBQUcsQ0FBQ3dCLFVBQUosQ0FBZUMsTUFBZixDQUFzQixFQUF0QixDQTFCQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBfID0gcmVxdWlyZSgncmstdXRpbHMnKS5fO1xuY29uc3QgeyBpc05vdGhpbmcgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL2xhbmcnKTtcbmNvbnN0IGFueSA9IHJlcXVpcmUoJy4vYW55Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5hbWU6ICdvYmplY3QnLFxuXG4gICAgYWxpYXM6IFsgJ2pzb24nIF0sXG5cbiAgICBzYW5pdGl6ZTogKHZhbHVlLCBpbmZvLCBpMThuKSA9PiB7XG4gICAgICAgIGlmIChfLmlzUGxhaW5PYmplY3QodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoXy5pc09iamVjdExpa2UodmFsdWUpKSByZXR1cm4gXy50b1BsYWluT2JqZWN0KHZhbHVlKTtcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICBpZiAodHJpbW1lZC5zdGFydHNXaXRoKCd7JykgJiYgdHJpbW1lZC5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodHJpbW1lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIGRlZmF1bHRWYWx1ZToge30sXG5cbiAgICBnZW5lcmF0ZTogKGluZm8sIGkxOG4pID0+IG51bGwsXG5cbiAgICBzZXJpYWxpemU6ICh2YWx1ZSkgPT4gaXNOb3RoaW5nKHZhbHVlKSA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksXG5cbiAgICBxdWFsaWZpZXJzOiBhbnkucXVhbGlmaWVycy5jb25jYXQoW1xuICAgIF0pXG59OyJdfQ==