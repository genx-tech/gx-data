{"version":3,"file":"integer.js","names":["Convertors","require","ValidationError","any","module","exports","name","alias","sanitize","value","info","i18n","field","raw","toInt","isNaN","max","feild","min","defaultValue","generate","serialize","qualifiers","concat"],"sources":["../../src/types/integer.js"],"sourcesContent":["const Convertors = require('../Convertors');\nconst { ValidationError } = require('../utils/Errors');\nconst any = require('./any');\n\nmodule.exports = {\n    name: 'integer',\n\n    alias: ['int'],\n\n    sanitize: (value, info, i18n, field) => {\n        if (value == null) return null;\n\n        const raw = value;\n        value = Convertors.toInt(value);\n        if (isNaN(value)) {\n            throw new ValidationError('Invalid integer value', {\n                value: raw,\n                field: info,\n            });\n        }\n\n        if (info && ('max' in info) && (value > info.max)) {\n            throw new ValidationError(\n                `The field \"${field || ''}\" value should smaller than ${info.max}`,\n                { value, feild: info }\n            );\n        }\n\n        if (info && ('min' in info) && (value < info.min)) {\n            throw new ValidationError(\n                `The field \"${field || ''}\" value should bigger than ${info.min}`,\n                { value, feild: info }\n            );\n        }\n\n        return value;\n    },\n\n    defaultValue: 0,\n\n    generate: (info, i18n) => 0,\n\n    serialize: (value) => value,\n\n    qualifiers: any.qualifiers.concat(['bytes', 'digits', 'unsigned']),\n};\n"],"mappings":";;;;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAM;EAAEC;AAAF,IAAsBD,OAAO,CAAC,iBAAD,CAAnC;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,OAAD,CAAnB;;AAEAG,MAAM,CAACC,OAAP,GAAiB;EACbC,IAAI,EAAE,SADO;EAGbC,KAAK,EAAE,CAAC,KAAD,CAHM;EAKbC,QAAQ,EAAE,CAACC,KAAD,EAAQC,IAAR,EAAcC,IAAd,EAAoBC,KAApB,KAA8B;IACpC,IAAIH,KAAK,IAAI,IAAb,EAAmB,OAAO,IAAP;IAEnB,MAAMI,GAAG,GAAGJ,KAAZ;IACAA,KAAK,GAAGT,UAAU,CAACc,KAAX,CAAiBL,KAAjB,CAAR;;IACA,IAAIM,KAAK,CAACN,KAAD,CAAT,EAAkB;MACd,MAAM,IAAIP,eAAJ,CAAoB,uBAApB,EAA6C;QAC/CO,KAAK,EAAEI,GADwC;QAE/CD,KAAK,EAAEF;MAFwC,CAA7C,CAAN;IAIH;;IAED,IAAIA,IAAI,IAAK,SAASA,IAAlB,IAA4BD,KAAK,GAAGC,IAAI,CAACM,GAA7C,EAAmD;MAC/C,MAAM,IAAId,eAAJ,CACD,cAAaU,KAAK,IAAI,EAAG,+BAA8BF,IAAI,CAACM,GAAI,EAD/D,EAEF;QAAEP,KAAF;QAASQ,KAAK,EAAEP;MAAhB,CAFE,CAAN;IAIH;;IAED,IAAIA,IAAI,IAAK,SAASA,IAAlB,IAA4BD,KAAK,GAAGC,IAAI,CAACQ,GAA7C,EAAmD;MAC/C,MAAM,IAAIhB,eAAJ,CACD,cAAaU,KAAK,IAAI,EAAG,8BAA6BF,IAAI,CAACQ,GAAI,EAD9D,EAEF;QAAET,KAAF;QAASQ,KAAK,EAAEP;MAAhB,CAFE,CAAN;IAIH;;IAED,OAAOD,KAAP;EACH,CAhCY;EAkCbU,YAAY,EAAE,CAlCD;EAoCbC,QAAQ,EAAE,CAACV,IAAD,EAAOC,IAAP,KAAgB,CApCb;EAsCbU,SAAS,EAAGZ,KAAD,IAAWA,KAtCT;EAwCba,UAAU,EAAEnB,GAAG,CAACmB,UAAJ,CAAeC,MAAf,CAAsB,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB,CAAtB;AAxCC,CAAjB"}