"use strict";

require("source-map-support/register");

const {
  _
} = require('rk-utils');

const {
  Set
} = require('immutable');

const ARRAY = require('./array');

const BINARY = require('./binary');

const BOOLEAN = require('./boolean');

const ENUM = require('./enum');

const DATETIME = require('./datetime');

const INTEGER = require('./integer');

const NUMBER = require('./number');

const OBJECT = require('./object');

const TEXT = require('./text');

const types = {
  ARRAY,
  BINARY,
  BOOLEAN,
  ENUM,
  DATETIME,
  INTEGER,
  NUMBER,
  OBJECT,
  TEXT
};
const Types = { ...types,
  ..._.mapKeys(types, (v, k) => v.name),
  Builtin: Set(_.map(types, t => t.name)),
  FunctionalQualifiers: Object.freeze(['optional', 'default', 'auto', 'readOnly', 'writeOnce', 'forceUpdate', 'freezeAfterNonDefault']),
  sanitize: function (value, info, ...others) {
    if (!Types.Builtin.has(info.type)) {
      throw new Error(`Unknown primitive type: "${info.type}"."`);
    }

    let typeObjerct = Types[info.type];
    return typeObjerct.sanitize(value, info, ...others);
  }
};
module.exports = Types;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90eXBlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfIiwicmVxdWlyZSIsIlNldCIsIkFSUkFZIiwiQklOQVJZIiwiQk9PTEVBTiIsIkVOVU0iLCJEQVRFVElNRSIsIklOVEVHRVIiLCJOVU1CRVIiLCJPQkpFQ1QiLCJURVhUIiwidHlwZXMiLCJUeXBlcyIsIm1hcEtleXMiLCJ2IiwiayIsIm5hbWUiLCJCdWlsdGluIiwibWFwIiwidCIsIkZ1bmN0aW9uYWxRdWFsaWZpZXJzIiwiT2JqZWN0IiwiZnJlZXplIiwic2FuaXRpemUiLCJ2YWx1ZSIsImluZm8iLCJvdGhlcnMiLCJoYXMiLCJ0eXBlIiwidHlwZU9iamVyY3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUMsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVFDLE9BQU8sQ0FBQyxVQUFELENBQXJCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFVRCxPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFFRCxNQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLE1BQU1HLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLE1BQU1NLFFBQVEsR0FBR04sT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTU8sT0FBTyxHQUFHUCxPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFDQSxNQUFNUSxNQUFNLEdBQUdSLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1TLE1BQU0sR0FBR1QsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTVUsSUFBSSxHQUFHVixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxNQUFNVyxLQUFLLEdBQUc7QUFDVlQsRUFBQUEsS0FEVTtBQUNIQyxFQUFBQSxNQURHO0FBQ0tDLEVBQUFBLE9BREw7QUFDY0MsRUFBQUEsSUFEZDtBQUNvQkMsRUFBQUEsUUFEcEI7QUFDOEJDLEVBQUFBLE9BRDlCO0FBQ3VDQyxFQUFBQSxNQUR2QztBQUMrQ0MsRUFBQUEsTUFEL0M7QUFDdURDLEVBQUFBO0FBRHZELENBQWQ7QUFJQSxNQUFNRSxLQUFLLEdBQUcsRUFDVixHQUFHRCxLQURPO0FBRVYsS0FBR1osQ0FBQyxDQUFDYyxPQUFGLENBQVVGLEtBQVYsRUFBaUIsQ0FBQ0csQ0FBRCxFQUFJQyxDQUFKLEtBQVVELENBQUMsQ0FBQ0UsSUFBN0IsQ0FGTztBQUlWQyxFQUFBQSxPQUFPLEVBQUVoQixHQUFHLENBQUNGLENBQUMsQ0FBQ21CLEdBQUYsQ0FBTVAsS0FBTixFQUFhUSxDQUFDLElBQUlBLENBQUMsQ0FBQ0gsSUFBcEIsQ0FBRCxDQUpGO0FBTVZJLEVBQUFBLG9CQUFvQixFQUFFQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxDQUNoQyxVQURnQyxFQUVoQyxTQUZnQyxFQUdoQyxNQUhnQyxFQUloQyxVQUpnQyxFQUtoQyxXQUxnQyxFQU1oQyxhQU5nQyxFQU9oQyx1QkFQZ0MsQ0FBZCxDQU5aO0FBZ0JWQyxFQUFBQSxRQUFRLEVBQUUsVUFBVUMsS0FBVixFQUFpQkMsSUFBakIsRUFBdUIsR0FBR0MsTUFBMUIsRUFBa0M7QUFBQSxTQUVwQ2QsS0FBSyxDQUFDSyxPQUFOLENBQWNVLEdBQWQsQ0FBa0JGLElBQUksQ0FBQ0csSUFBdkIsQ0FGb0M7QUFBQSxzQkFFTCw0QkFBMkJILElBQUksQ0FBQ0csSUFBSyxLQUZoQztBQUFBOztBQUt4QyxRQUFJQyxXQUFXLEdBQUdqQixLQUFLLENBQUNhLElBQUksQ0FBQ0csSUFBTixDQUF2QjtBQUNBLFdBQU9DLFdBQVcsQ0FBQ04sUUFBWixDQUFxQkMsS0FBckIsRUFBNEJDLElBQTVCLEVBQWtDLEdBQUdDLE1BQXJDLENBQVA7QUFDSDtBQXZCUyxDQUFkO0FBMEJBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixLQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIiBjb25zdCB7IF8gfSA9IHJlcXVpcmUoJ3JrLXV0aWxzJyk7XG4gY29uc3QgeyBTZXQgfSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuXG5jb25zdCBBUlJBWSA9IHJlcXVpcmUoJy4vYXJyYXknKTtcbmNvbnN0IEJJTkFSWSA9IHJlcXVpcmUoJy4vYmluYXJ5Jyk7XG5jb25zdCBCT09MRUFOID0gcmVxdWlyZSgnLi9ib29sZWFuJyk7XG5jb25zdCBFTlVNID0gcmVxdWlyZSgnLi9lbnVtJyk7ICAgIFxuY29uc3QgREFURVRJTUUgPSByZXF1aXJlKCcuL2RhdGV0aW1lJyk7XG5jb25zdCBJTlRFR0VSID0gcmVxdWlyZSgnLi9pbnRlZ2VyJyk7XG5jb25zdCBOVU1CRVIgPSByZXF1aXJlKCcuL251bWJlcicpO1xuY29uc3QgT0JKRUNUID0gcmVxdWlyZSgnLi9vYmplY3QnKTtcbmNvbnN0IFRFWFQgPSByZXF1aXJlKCcuL3RleHQnKTtcblxuY29uc3QgdHlwZXMgPSB7XG4gICAgQVJSQVksIEJJTkFSWSwgQk9PTEVBTiwgRU5VTSwgREFURVRJTUUsIElOVEVHRVIsIE5VTUJFUiwgT0JKRUNULCBURVhUXG59O1xuXG5jb25zdCBUeXBlcyA9IHsgXG4gICAgLi4udHlwZXMsIFxuICAgIC4uLl8ubWFwS2V5cyh0eXBlcywgKHYsIGspID0+IHYubmFtZSksIFxuICAgIFxuICAgIEJ1aWx0aW46IFNldChfLm1hcCh0eXBlcywgdCA9PiB0Lm5hbWUpKSxcblxuICAgIEZ1bmN0aW9uYWxRdWFsaWZpZXJzOiBPYmplY3QuZnJlZXplKFtcbiAgICAgICAgJ29wdGlvbmFsJyxcbiAgICAgICAgJ2RlZmF1bHQnLFxuICAgICAgICAnYXV0bycsXG4gICAgICAgICdyZWFkT25seScsXG4gICAgICAgICd3cml0ZU9uY2UnLFxuICAgICAgICAnZm9yY2VVcGRhdGUnLFxuICAgICAgICAnZnJlZXplQWZ0ZXJOb25EZWZhdWx0JyxcbiAgICBdKSxcblxuICAgIHNhbml0aXplOiBmdW5jdGlvbiAodmFsdWUsIGluZm8sIC4uLm90aGVycykge1xuICAgICAgICBwcmU6IHtcbiAgICAgICAgICAgIFR5cGVzLkJ1aWx0aW4uaGFzKGluZm8udHlwZSksIGBVbmtub3duIHByaW1pdGl2ZSB0eXBlOiBcIiR7aW5mby50eXBlfVwiLlwiYDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBsZXQgdHlwZU9iamVyY3QgPSBUeXBlc1tpbmZvLnR5cGVdO1xuICAgICAgICByZXR1cm4gdHlwZU9iamVyY3Quc2FuaXRpemUodmFsdWUsIGluZm8sIC4uLm90aGVycyk7XG4gICAgfSBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVHlwZXM7Il19