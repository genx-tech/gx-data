"use strict";

require("source-map-support/register");

const {
  _
} = require('rk-utils');

const {
  Set
} = require('immutable');

const ARRAY = require('./array');

const BINARY = require('./binary');

const BOOLEAN = require('./boolean');

const ENUM = require('./enum');

const DATETIME = require('./datetime');

const INTEGER = require('./integer');

const NUMBER = require('./number');

const OBJECT = require('./object');

const TEXT = require('./text');

const types = {
  ARRAY,
  BINARY,
  BOOLEAN,
  ENUM,
  DATETIME,
  INTEGER,
  NUMBER,
  OBJECT,
  TEXT
};
const Types = { ...types,
  ..._.mapKeys(types, (v, k) => v.name),
  Builtin: Set(_.map(types, t => t.name)),
  FunctionalQualifiers: Object.freeze(['optional', 'default', 'auto', 'readOnly', 'writeOnce', 'forceUpdate', 'freezeAfterNonDefault']),
  sanitize: function (value, info, i18n) {
    if (!Types.Builtin.has(info.type)) {
      throw new Error(`Unknown primitive type: "${info.type}"."`);
    }

    let typeObjerct = Types[info.type];
    return typeObjerct.sanitize(value, info, i18n);
  }
};
module.exports = Types;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ydW50aW1lL3R5cGVzL2luZGV4LmpzIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwiU2V0IiwiQVJSQVkiLCJCSU5BUlkiLCJCT09MRUFOIiwiRU5VTSIsIkRBVEVUSU1FIiwiSU5URUdFUiIsIk5VTUJFUiIsIk9CSkVDVCIsIlRFWFQiLCJ0eXBlcyIsIlR5cGVzIiwibWFwS2V5cyIsInYiLCJrIiwibmFtZSIsIkJ1aWx0aW4iLCJtYXAiLCJ0IiwiRnVuY3Rpb25hbFF1YWxpZmllcnMiLCJPYmplY3QiLCJmcmVlemUiLCJzYW5pdGl6ZSIsInZhbHVlIiwiaW5mbyIsImkxOG4iLCJoYXMiLCJ0eXBlIiwidHlwZU9iamVyY3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUMsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVFDLE9BQU8sQ0FBQyxVQUFELENBQXJCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFVRCxPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFFRCxNQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLE1BQU1HLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLE1BQU1NLFFBQVEsR0FBR04sT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTU8sT0FBTyxHQUFHUCxPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFDQSxNQUFNUSxNQUFNLEdBQUdSLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1TLE1BQU0sR0FBR1QsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTVUsSUFBSSxHQUFHVixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxNQUFNVyxLQUFLLEdBQUc7QUFDVlQsRUFBQUEsS0FEVTtBQUNIQyxFQUFBQSxNQURHO0FBQ0tDLEVBQUFBLE9BREw7QUFDY0MsRUFBQUEsSUFEZDtBQUNvQkMsRUFBQUEsUUFEcEI7QUFDOEJDLEVBQUFBLE9BRDlCO0FBQ3VDQyxFQUFBQSxNQUR2QztBQUMrQ0MsRUFBQUEsTUFEL0M7QUFDdURDLEVBQUFBO0FBRHZELENBQWQ7QUFJQSxNQUFNRSxLQUFLLEdBQUcsRUFDVixHQUFHRCxLQURPO0FBRVYsS0FBR1osQ0FBQyxDQUFDYyxPQUFGLENBQVVGLEtBQVYsRUFBaUIsQ0FBQ0csQ0FBRCxFQUFJQyxDQUFKLEtBQVVELENBQUMsQ0FBQ0UsSUFBN0IsQ0FGTztBQUlWQyxFQUFBQSxPQUFPLEVBQUVoQixHQUFHLENBQUNGLENBQUMsQ0FBQ21CLEdBQUYsQ0FBTVAsS0FBTixFQUFhUSxDQUFDLElBQUlBLENBQUMsQ0FBQ0gsSUFBcEIsQ0FBRCxDQUpGO0FBTVZJLEVBQUFBLG9CQUFvQixFQUFFQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxDQUNoQyxVQURnQyxFQUVoQyxTQUZnQyxFQUdoQyxNQUhnQyxFQUloQyxVQUpnQyxFQUtoQyxXQUxnQyxFQU1oQyxhQU5nQyxFQU9oQyx1QkFQZ0MsQ0FBZCxDQU5aO0FBZ0JWQyxFQUFBQSxRQUFRLEVBQUUsVUFBVUMsS0FBVixFQUFpQkMsSUFBakIsRUFBdUJDLElBQXZCLEVBQTZCO0FBQUEsU0FFL0JkLEtBQUssQ0FBQ0ssT0FBTixDQUFjVSxHQUFkLENBQWtCRixJQUFJLENBQUNHLElBQXZCLENBRitCO0FBQUEsc0JBRUEsNEJBQTJCSCxJQUFJLENBQUNHLElBQUssS0FGckM7QUFBQTs7QUFLbkMsUUFBSUMsV0FBVyxHQUFHakIsS0FBSyxDQUFDYSxJQUFJLENBQUNHLElBQU4sQ0FBdkI7QUFDQSxXQUFPQyxXQUFXLENBQUNOLFFBQVosQ0FBcUJDLEtBQXJCLEVBQTRCQyxJQUE1QixFQUFrQ0MsSUFBbEMsQ0FBUDtBQUNIO0FBdkJTLENBQWQ7QUEwQkFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiIGNvbnN0IHsgXyB9ID0gcmVxdWlyZSgncmstdXRpbHMnKTtcbiBjb25zdCB7IFNldCB9ID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XG5cbmNvbnN0IEFSUkFZID0gcmVxdWlyZSgnLi9hcnJheScpO1xuY29uc3QgQklOQVJZID0gcmVxdWlyZSgnLi9iaW5hcnknKTtcbmNvbnN0IEJPT0xFQU4gPSByZXF1aXJlKCcuL2Jvb2xlYW4nKTtcbmNvbnN0IEVOVU0gPSByZXF1aXJlKCcuL2VudW0nKTsgICAgXG5jb25zdCBEQVRFVElNRSA9IHJlcXVpcmUoJy4vZGF0ZXRpbWUnKTtcbmNvbnN0IElOVEVHRVIgPSByZXF1aXJlKCcuL2ludGVnZXInKTtcbmNvbnN0IE5VTUJFUiA9IHJlcXVpcmUoJy4vbnVtYmVyJyk7XG5jb25zdCBPQkpFQ1QgPSByZXF1aXJlKCcuL29iamVjdCcpO1xuY29uc3QgVEVYVCA9IHJlcXVpcmUoJy4vdGV4dCcpO1xuXG5jb25zdCB0eXBlcyA9IHtcbiAgICBBUlJBWSwgQklOQVJZLCBCT09MRUFOLCBFTlVNLCBEQVRFVElNRSwgSU5URUdFUiwgTlVNQkVSLCBPQkpFQ1QsIFRFWFRcbn07XG5cbmNvbnN0IFR5cGVzID0geyBcbiAgICAuLi50eXBlcywgXG4gICAgLi4uXy5tYXBLZXlzKHR5cGVzLCAodiwgaykgPT4gdi5uYW1lKSwgXG4gICAgXG4gICAgQnVpbHRpbjogU2V0KF8ubWFwKHR5cGVzLCB0ID0+IHQubmFtZSkpLFxuXG4gICAgRnVuY3Rpb25hbFF1YWxpZmllcnM6IE9iamVjdC5mcmVlemUoW1xuICAgICAgICAnb3B0aW9uYWwnLFxuICAgICAgICAnZGVmYXVsdCcsXG4gICAgICAgICdhdXRvJyxcbiAgICAgICAgJ3JlYWRPbmx5JyxcbiAgICAgICAgJ3dyaXRlT25jZScsXG4gICAgICAgICdmb3JjZVVwZGF0ZScsXG4gICAgICAgICdmcmVlemVBZnRlck5vbkRlZmF1bHQnLFxuICAgIF0pLFxuXG4gICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5mbywgaTE4bikge1xuICAgICAgICBwcmU6IHtcbiAgICAgICAgICAgIFR5cGVzLkJ1aWx0aW4uaGFzKGluZm8udHlwZSksIGBVbmtub3duIHByaW1pdGl2ZSB0eXBlOiBcIiR7aW5mby50eXBlfVwiLlwiYDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBsZXQgdHlwZU9iamVyY3QgPSBUeXBlc1tpbmZvLnR5cGVdO1xuICAgICAgICByZXR1cm4gdHlwZU9iamVyY3Quc2FuaXRpemUodmFsdWUsIGluZm8sIGkxOG4pO1xuICAgIH0gXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGVzOyJdfQ==