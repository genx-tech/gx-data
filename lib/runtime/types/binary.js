"use strict";

require("source-map-support/register");

const {
  isNothing
} = require('../../utils/lang');

const any = require('./any');

module.exports = {
  name: 'binary',
  alias: ['blob', 'buffer'],
  sanitize: (value, info, i18n) => value instanceof Buffer ? input : Buffer.from(value.toString()),
  defaultValue: 0,
  generate: (info, i18n) => null,
  serialize: (value, options) => isNothing(value) ? null : value.toString(options && options.encoding || 'base64'),
  qualifiers: any.qualifiers.concat(['fixedLength', 'maxLength'])
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ydW50aW1lL3R5cGVzL2JpbmFyeS5qcyJdLCJuYW1lcyI6WyJpc05vdGhpbmciLCJyZXF1aXJlIiwiYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsIm5hbWUiLCJhbGlhcyIsInNhbml0aXplIiwidmFsdWUiLCJpbmZvIiwiaTE4biIsIkJ1ZmZlciIsImlucHV0IiwiZnJvbSIsInRvU3RyaW5nIiwiZGVmYXVsdFZhbHVlIiwiZ2VuZXJhdGUiLCJzZXJpYWxpemUiLCJvcHRpb25zIiwiZW5jb2RpbmciLCJxdWFsaWZpZXJzIiwiY29uY2F0Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFnQkMsT0FBTyxDQUFDLGtCQUFELENBQTdCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBbkI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxJQUFJLEVBQUUsUUFETztBQUdiQyxFQUFBQSxLQUFLLEVBQUUsQ0FBRSxNQUFGLEVBQVUsUUFBVixDQUhNO0FBS2JDLEVBQUFBLFFBQVEsRUFBRSxDQUFDQyxLQUFELEVBQVFDLElBQVIsRUFBY0MsSUFBZCxLQUF3QkYsS0FBSyxZQUFZRyxNQUFsQixHQUE0QkMsS0FBNUIsR0FBb0NELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZTCxLQUFLLENBQUNNLFFBQU4sRUFBWixDQUx4RDtBQU9iQyxFQUFBQSxZQUFZLEVBQUUsQ0FQRDtBQVNiQyxFQUFBQSxRQUFRLEVBQUUsQ0FBQ1AsSUFBRCxFQUFPQyxJQUFQLEtBQWdCLElBVGI7QUFXYk8sRUFBQUEsU0FBUyxFQUFFLENBQUNULEtBQUQsRUFBUVUsT0FBUixLQUFvQmxCLFNBQVMsQ0FBQ1EsS0FBRCxDQUFULEdBQW1CLElBQW5CLEdBQTBCQSxLQUFLLENBQUNNLFFBQU4sQ0FBZUksT0FBTyxJQUFJQSxPQUFPLENBQUNDLFFBQW5CLElBQStCLFFBQTlDLENBWDVDO0FBYWJDLEVBQUFBLFVBQVUsRUFBRWxCLEdBQUcsQ0FBQ2tCLFVBQUosQ0FBZUMsTUFBZixDQUFzQixDQUM5QixhQUQ4QixFQUU5QixXQUY4QixDQUF0QjtBQWJDLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHsgaXNOb3RoaW5nIH0gPSByZXF1aXJlKCcuLi8uLi91dGlscy9sYW5nJyk7XG5jb25zdCBhbnkgPSByZXF1aXJlKCcuL2FueScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBuYW1lOiAnYmluYXJ5JyxcblxuICAgIGFsaWFzOiBbICdibG9iJywgJ2J1ZmZlcicgXSxcblxuICAgIHNhbml0aXplOiAodmFsdWUsIGluZm8sIGkxOG4pID0+ICh2YWx1ZSBpbnN0YW5jZW9mIEJ1ZmZlcikgPyBpbnB1dCA6IEJ1ZmZlci5mcm9tKHZhbHVlLnRvU3RyaW5nKCkpLFxuXG4gICAgZGVmYXVsdFZhbHVlOiAwLFxuXG4gICAgZ2VuZXJhdGU6IChpbmZvLCBpMThuKSA9PiBudWxsLFxuXG4gICAgc2VyaWFsaXplOiAodmFsdWUsIG9wdGlvbnMpID0+IGlzTm90aGluZyh2YWx1ZSkgPyBudWxsIDogdmFsdWUudG9TdHJpbmcob3B0aW9ucyAmJiBvcHRpb25zLmVuY29kaW5nIHx8ICdiYXNlNjQnKSxcblxuICAgIHF1YWxpZmllcnM6IGFueS5xdWFsaWZpZXJzLmNvbmNhdChbXG4gICAgICAgICdmaXhlZExlbmd0aCcsXG4gICAgICAgICdtYXhMZW5ndGgnXG4gICAgXSlcbn07Il19