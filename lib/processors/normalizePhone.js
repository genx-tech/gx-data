"use strict";require("source-map-support/register");const{_,replaceAll}=require("rk-utils");function normalizePhone(phone,defaultArea){if(phone){phone=phone.trim();if(phone.length>0){let s=phone[0];if(s==="+"){}else if(s==="0"){if(phone[1]==="0"){phone="+"+phone.substr(2)}else{phone=defaultArea+phone.substr(1)}}else{phone=defaultArea+phone}let leftB=phone.indexOf("(");let rightB=phone.indexOf(")");if(leftB>0&&rightB>leftB){phone=phone.substr(0,leftB)+_.trimStart(phone.substring(leftB+1,rightB),"0")+phone.substr(rightB+1)}phone=phone.replace(/\ |\-/g,"")}}return phone}module.exports=normalizePhone;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcm9jZXNzb3JzL25vcm1hbGl6ZVBob25lLmpzIl0sIm5hbWVzIjpbIl8iLCJyZXBsYWNlQWxsIiwicmVxdWlyZSIsIm5vcm1hbGl6ZVBob25lIiwicGhvbmUiLCJkZWZhdWx0QXJlYSIsInRyaW0iLCJsZW5ndGgiLCJzIiwic3Vic3RyIiwibGVmdEIiLCJpbmRleE9mIiwicmlnaHRCIiwidHJpbVN0YXJ0Iiwic3Vic3RyaW5nIiwicmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJvREFBQSxLQUFNLENBQUVBLENBQUYsQ0FBS0MsVUFBTCxFQUFvQkMsT0FBTyxDQUFDLFVBQUQsQ0FBakMsQ0FFQSxRQUFTQyxDQUFBQSxjQUFULENBQXdCQyxLQUF4QixDQUErQkMsV0FBL0IsQ0FBNEMsQ0FDeEMsR0FBSUQsS0FBSixDQUFXLENBQ1BBLEtBQUssQ0FBR0EsS0FBSyxDQUFDRSxJQUFOLEVBQVIsQ0FFQSxHQUFJRixLQUFLLENBQUNHLE1BQU4sQ0FBZSxDQUFuQixDQUFzQixDQUNsQixHQUFJQyxDQUFBQSxDQUFDLENBQUdKLEtBQUssQ0FBQyxDQUFELENBQWIsQ0FDQSxHQUFJSSxDQUFDLEdBQUssR0FBVixDQUFlLENBRWQsQ0FGRCxJQUVPLElBQUlBLENBQUMsR0FBSyxHQUFWLENBQWUsQ0FDbEIsR0FBSUosS0FBSyxDQUFDLENBQUQsQ0FBTCxHQUFhLEdBQWpCLENBQXNCLENBQ2xCQSxLQUFLLENBQUcsSUFBTUEsS0FBSyxDQUFDSyxNQUFOLENBQWEsQ0FBYixDQUNqQixDQUZELElBRU8sQ0FDSEwsS0FBSyxDQUFHQyxXQUFXLENBQUdELEtBQUssQ0FBQ0ssTUFBTixDQUFhLENBQWIsQ0FDekIsQ0FDSixDQU5NLElBTUEsQ0FDSEwsS0FBSyxDQUFHQyxXQUFXLENBQUdELEtBQ3pCLENBRUQsR0FBSU0sQ0FBQUEsS0FBSyxDQUFHTixLQUFLLENBQUNPLE9BQU4sQ0FBYyxHQUFkLENBQVosQ0FDQSxHQUFJQyxDQUFBQSxNQUFNLENBQUdSLEtBQUssQ0FBQ08sT0FBTixDQUFjLEdBQWQsQ0FBYixDQUVBLEdBQUlELEtBQUssQ0FBRyxDQUFSLEVBQWFFLE1BQU0sQ0FBR0YsS0FBMUIsQ0FBaUMsQ0FDN0JOLEtBQUssQ0FBR0EsS0FBSyxDQUFDSyxNQUFOLENBQWEsQ0FBYixDQUFnQkMsS0FBaEIsRUFBeUJWLENBQUMsQ0FBQ2EsU0FBRixDQUFZVCxLQUFLLENBQUNVLFNBQU4sQ0FBZ0JKLEtBQUssQ0FBQyxDQUF0QixDQUF5QkUsTUFBekIsQ0FBWixDQUE4QyxHQUE5QyxDQUF6QixDQUE4RVIsS0FBSyxDQUFDSyxNQUFOLENBQWFHLE1BQU0sQ0FBQyxDQUFwQixDQUN6RixDQUVEUixLQUFLLENBQUdBLEtBQUssQ0FBQ1csT0FBTixDQUFjLFFBQWQsQ0FBd0IsRUFBeEIsQ0FDWCxDQUNKLENBRUQsTUFBT1gsQ0FBQUEsS0FDVixDQUVEWSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJkLGNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBfLCByZXBsYWNlQWxsIH0gPSByZXF1aXJlKCdyay11dGlscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVQaG9uZShwaG9uZSwgZGVmYXVsdEFyZWEpIHtcbiAgICBpZiAocGhvbmUpIHtcbiAgICAgICAgcGhvbmUgPSBwaG9uZS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocGhvbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHMgPSBwaG9uZVswXTtcbiAgICAgICAgICAgIGlmIChzID09PSAnKycpIHtcbiAgICAgICAgICAgICAgICAvL25vdGhpbmdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocyA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBob25lWzFdID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcGhvbmUgPSAnKycgKyBwaG9uZS5zdWJzdHIoMik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGhvbmUgPSBkZWZhdWx0QXJlYSArIHBob25lLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBob25lID0gZGVmYXVsdEFyZWEgKyBwaG9uZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGxlZnRCID0gcGhvbmUuaW5kZXhPZignKCcpO1xuICAgICAgICAgICAgbGV0IHJpZ2h0QiA9IHBob25lLmluZGV4T2YoJyknKTtcblxuICAgICAgICAgICAgaWYgKGxlZnRCID4gMCAmJiByaWdodEIgPiBsZWZ0Qikge1xuICAgICAgICAgICAgICAgIHBob25lID0gcGhvbmUuc3Vic3RyKDAsIGxlZnRCKSArIF8udHJpbVN0YXJ0KHBob25lLnN1YnN0cmluZyhsZWZ0QisxLCByaWdodEIpLCAnMCcpICsgcGhvbmUuc3Vic3RyKHJpZ2h0QisxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGhvbmUgPSBwaG9uZS5yZXBsYWNlKC9cXCB8XFwtL2csICcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwaG9uZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBub3JtYWxpemVQaG9uZTsiXX0=