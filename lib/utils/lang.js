"use strict";require("source-map-support/register");const{_}=require("rk-utils");const SupportedDrivers=["mysql","mongodb","rabbitmq"];const JsPrimitiveTypes=new Set(["number","boolean","string","symbol","undefined"]);function mergeCondition(condition1,condition2,operator="$and"){if(_.isEmpty(condition1)){return condition2}if(_.isEmpty(condition2)){return condition1}return{[operator]:[condition1,condition2]}}exports.isNothing=v=>_.isNil(v)||_.isNaN(v);exports.isPrimitive=v=>JsPrimitiveTypes.has(typeof v);exports.isQuoted=s=>(s.startsWith("'")||s.startsWith("\""))&&s[0]===s[s.length-1];exports.isQuotedWith=(s,q)=>s.startsWith(q)&&s[0]===s[s.length-1];exports.makeDataSourceName=(driver,schema)=>driver+"."+schema;exports.extractDriverAndConnectorName=id=>id.split(".");exports.mergeCondition=mergeCondition;exports.SupportedDrivers=Object.freeze(SupportedDrivers);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9sYW5nLmpzIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwiU3VwcG9ydGVkRHJpdmVycyIsIkpzUHJpbWl0aXZlVHlwZXMiLCJTZXQiLCJtZXJnZUNvbmRpdGlvbiIsImNvbmRpdGlvbjEiLCJjb25kaXRpb24yIiwib3BlcmF0b3IiLCJpc0VtcHR5IiwiZXhwb3J0cyIsImlzTm90aGluZyIsInYiLCJpc05pbCIsImlzTmFOIiwiaXNQcmltaXRpdmUiLCJoYXMiLCJpc1F1b3RlZCIsInMiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwiaXNRdW90ZWRXaXRoIiwicSIsIm1ha2VEYXRhU291cmNlTmFtZSIsImRyaXZlciIsInNjaGVtYSIsImV4dHJhY3REcml2ZXJBbmRDb25uZWN0b3JOYW1lIiwiaWQiLCJzcGxpdCIsIk9iamVjdCIsImZyZWV6ZSJdLCJtYXBwaW5ncyI6IkFBQUEsYSx1Q0FFQSxLQUFNLENBQUVBLENBQUYsRUFBUUMsT0FBTyxDQUFDLFVBQUQsQ0FBckIsQ0FFQSxLQUFNQyxDQUFBQSxnQkFBZ0IsQ0FBRyxDQUFFLE9BQUYsQ0FBVyxTQUFYLENBQXNCLFVBQXRCLENBQXpCLENBQ0EsS0FBTUMsQ0FBQUEsZ0JBQWdCLENBQUcsR0FBSUMsQ0FBQUEsR0FBSixDQUFRLENBQUUsUUFBRixDQUFZLFNBQVosQ0FBdUIsUUFBdkIsQ0FBaUMsUUFBakMsQ0FBMkMsV0FBM0MsQ0FBUixDQUF6QixDQVNBLFFBQVNDLENBQUFBLGNBQVQsQ0FBd0JDLFVBQXhCLENBQW9DQyxVQUFwQyxDQUFnREMsUUFBUSxDQUFHLE1BQTNELENBQW1FLENBQy9ELEdBQUlSLENBQUMsQ0FBQ1MsT0FBRixDQUFVSCxVQUFWLENBQUosQ0FBMkIsQ0FDdkIsTUFBT0MsQ0FBQUEsVUFDVixDQUVELEdBQUlQLENBQUMsQ0FBQ1MsT0FBRixDQUFVRixVQUFWLENBQUosQ0FBMkIsQ0FDdkIsTUFBT0QsQ0FBQUEsVUFDVixDQUVELE1BQU8sQ0FBRSxDQUFDRSxRQUFELEVBQVksQ0FBRUYsVUFBRixDQUFjQyxVQUFkLENBQWQsQ0FDVixDQUVERyxPQUFPLENBQUNDLFNBQVIsQ0FBb0JDLENBQUMsRUFBSVosQ0FBQyxDQUFDYSxLQUFGLENBQVFELENBQVIsR0FBY1osQ0FBQyxDQUFDYyxLQUFGLENBQVFGLENBQVIsQ0FBdkMsQ0FDQUYsT0FBTyxDQUFDSyxXQUFSLENBQXNCSCxDQUFDLEVBQUlULGdCQUFnQixDQUFDYSxHQUFqQixDQUFxQixNQUFPSixDQUFBQSxDQUE1QixDQUEzQixDQUNBRixPQUFPLENBQUNPLFFBQVIsQ0FBbUJDLENBQUMsRUFBSSxDQUFDQSxDQUFDLENBQUNDLFVBQUYsQ0FBYSxHQUFiLEdBQXFCRCxDQUFDLENBQUNDLFVBQUYsQ0FBYSxJQUFiLENBQXRCLEdBQTRDRCxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQVNBLENBQUMsQ0FBQ0EsQ0FBQyxDQUFDRSxNQUFGLENBQVMsQ0FBVixDQUE5RSxDQUNBVixPQUFPLENBQUNXLFlBQVIsQ0FBdUIsQ0FBQ0gsQ0FBRCxDQUFJSSxDQUFKLEdBQVdKLENBQUMsQ0FBQ0MsVUFBRixDQUFhRyxDQUFiLEdBQW1CSixDQUFDLENBQUMsQ0FBRCxDQUFELEdBQVNBLENBQUMsQ0FBQ0EsQ0FBQyxDQUFDRSxNQUFGLENBQVMsQ0FBVixDQUEvRCxDQUNBVixPQUFPLENBQUNhLGtCQUFSLENBQTZCLENBQUNDLE1BQUQsQ0FBU0MsTUFBVCxHQUFxQkQsTUFBTSxDQUFHLEdBQVQsQ0FBZUMsTUFBakUsQ0FDQWYsT0FBTyxDQUFDZ0IsNkJBQVIsQ0FBd0NDLEVBQUUsRUFBSUEsRUFBRSxDQUFDQyxLQUFILENBQVMsR0FBVCxDQUE5QyxDQUNBbEIsT0FBTyxDQUFDTCxjQUFSLENBQXlCQSxjQUF6QixDQUNBSyxPQUFPLENBQUNSLGdCQUFSLENBQTJCMkIsTUFBTSxDQUFDQyxNQUFQLENBQWM1QixnQkFBZCxDQUEzQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IF8gfSA9IHJlcXVpcmUoJ3JrLXV0aWxzJyk7XG5cbmNvbnN0IFN1cHBvcnRlZERyaXZlcnMgPSBbICdteXNxbCcsICdtb25nb2RiJywgJ3JhYmJpdG1xJyBdO1xuY29uc3QgSnNQcmltaXRpdmVUeXBlcyA9IG5ldyBTZXQoWyAnbnVtYmVyJywgJ2Jvb2xlYW4nLCAnc3RyaW5nJywgJ3N5bWJvbCcsICd1bmRlZmluZWQnIF0pO1xuXG4vKipcbiAqIE1lcmdlIHR3byBxdWVyeSBjb25kaXRpb25zIHVzaW5nIGdpdmVuIG9wZXJhdG9yLlxuICogQHBhcmFtIHsqfSBjb25kaXRpb24xIFxuICogQHBhcmFtIHsqfSBjb25kaXRpb24yIFxuICogQHBhcmFtIHsqfSBvcGVyYXRvciBcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ29uZGl0aW9uKGNvbmRpdGlvbjEsIGNvbmRpdGlvbjIsIG9wZXJhdG9yID0gJyRhbmQnKSB7ICAgICAgICBcbiAgICBpZiAoXy5pc0VtcHR5KGNvbmRpdGlvbjEpKSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb24yO1xuICAgIH1cblxuICAgIGlmIChfLmlzRW1wdHkoY29uZGl0aW9uMikpIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbjE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgW29wZXJhdG9yXTogWyBjb25kaXRpb24xLCBjb25kaXRpb24yIF0gfTtcbn1cblxuZXhwb3J0cy5pc05vdGhpbmcgPSB2ID0+IF8uaXNOaWwodikgfHwgXy5pc05hTih2KTtcbmV4cG9ydHMuaXNQcmltaXRpdmUgPSB2ID0+IEpzUHJpbWl0aXZlVHlwZXMuaGFzKHR5cGVvZiB2KTtcbmV4cG9ydHMuaXNRdW90ZWQgPSBzID0+IChzLnN0YXJ0c1dpdGgoXCInXCIpIHx8IHMuc3RhcnRzV2l0aCgnXCInKSkgJiYgc1swXSA9PT0gc1tzLmxlbmd0aC0xXTtcbmV4cG9ydHMuaXNRdW90ZWRXaXRoID0gKHMsIHEpID0+IChzLnN0YXJ0c1dpdGgocSkgJiYgc1swXSA9PT0gc1tzLmxlbmd0aC0xXSk7XG5leHBvcnRzLm1ha2VEYXRhU291cmNlTmFtZSA9IChkcml2ZXIsIHNjaGVtYSkgPT4gKGRyaXZlciArICcuJyArIHNjaGVtYSk7XG5leHBvcnRzLmV4dHJhY3REcml2ZXJBbmRDb25uZWN0b3JOYW1lID0gaWQgPT4gaWQuc3BsaXQoJy4nKTtcbmV4cG9ydHMubWVyZ2VDb25kaXRpb24gPSBtZXJnZUNvbmRpdGlvbjtcbmV4cG9ydHMuU3VwcG9ydGVkRHJpdmVycyA9IE9iamVjdC5mcmVlemUoU3VwcG9ydGVkRHJpdmVycyk7XG4iXX0=